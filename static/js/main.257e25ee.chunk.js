(this.webpackJsonpconvolver=this.webpackJsonpconvolver||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(14)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),l=a.n(c),i=(a(10),a(1)),u=(a(11),a(12),function(e,t,a){return 4*(e+t*a)}),o=Math.floor,m=function(e,t,a,n,r){for(var c=0,l=0,i=0,m=o(t.dim/2),s=-m;s<=m;s++)for(var f=-m;f<=m;f++){var d=o(u(s+m,f+m,t.dim)/4),v=t.values[d]/a,g=u(n+s,r+f,500);c+=e.data[g]*v,i+=e.data[g+1]*v,l+=e.data[g+2]*v}return[c,i,l]},s=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(n.useRef)(),o=Object(n.useState)(),s=Object(i.a)(o,2),f=s[0],d=s[1];Object(n.useEffect)((function(){if(f&&e.filter){var n=t.current.getContext("2d"),r=a.current.getContext("2d");n.drawImage(f,0,0,500,500);var c=n.getImageData(0,0,500,500);n.putImageData(c,0,0);for(var l=new ImageData(500,500),o=1;o<499;o++)for(var s=1;s<499;s++){var d=m(c,e.filter,e.scale,o,s),v=Object(i.a)(d,3),g=v[0],b=v[1],p=v[2],E=u(o,s,500);l.data[E]=g,l.data[E+1]=b,l.data[E+2]=p,l.data[E+3]=255}r.putImageData(l,0,0)}}),[e.filter,e.scale,f]);return r.a.createElement("div",{className:"image-display"},r.a.createElement("canvas",{ref:t,height:"500",width:"500",id:"display"}),r.a.createElement("canvas",{ref:a,height:"500",width:"500",id:"convolved-display"}),r.a.createElement("input",{ref:c,type:"file",id:"img",name:"img",onChange:function(e){if(e.target.files&&1===e.target.files.length){var t=e.target.files[0],a=new FileReader;a.onload=function(){var e=new Image;e.src=a.result,d(e)},a.readAsDataURL(t)}},accept:"image/png, image/jpeg"}),r.a.createElement("button",{className:"image-button",onClick:function(){c.current.click()}},"Choose Image"),r.a.createElement("button",{className:"image-button",onClick:function(e){var t=a.current.toDataURL("image/png");l.current.href=t,l.current.click()}},"Download Convolved Image"),r.a.createElement("a",{ref:l,id:"download",download:"convolved.png",href:"",style:{display:"none"}}))},f=a(4),d=(a(13),function(e){var t=e.dim,a=Object(n.useState)({values:Array(t*t).fill(1),dim:t}),c=Object(i.a)(a,2),l=c[0],u=c[1],o=Object(n.useState)(1),m=Object(i.a)(o,2),s=m[0],d=m[1];Object(n.useEffect)((function(){e.onInput(l,s)}),[l.dim]),Object(n.useEffect)((function(){var t=e.dim;u({values:Array(t*t).fill(1),dim:t})}),[e.dim]);return r.a.createElement("div",{className:"convolution"},r.a.createElement("div",{className:"convolution-container",style:{gridTemplateColumns:"repeat(".concat(l.dim,", 1fr)")}},l.values.map((function(t,a){return r.a.createElement("input",{className:"filter-number",value:t,key:a,onChange:function(t){return function(t,a){var n=Object(f.a)({},l);n.values[a]=Number(t.target.value),u(n),e.onInput(n,s)}(t,a)},type:"number"})}))),r.a.createElement("div",{className:"filter-scale"},r.a.createElement("label",{htmlFor:"scale"},"Scale"),r.a.createElement("input",{name:"scale",min:"0",value:s,onChange:function(t){d(Number(t.target.value)),e.onInput(l,Number(t.target.value))},type:"number"})))});var v=function(){var e=Object(n.useState)(3),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),u=Object(i.a)(l,2),o=u[0],m=u[1],f=Object(n.useState)(),v=Object(i.a)(f,2),g=v[0],b=v[1],p=Object(n.useCallback)((function(e,t){m(e),b(t)}),[]);return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"dimension"},r.a.createElement("h1",null,"Image Convolver")),r.a.createElement(s,{filter:o,scale:g}),r.a.createElement(d,{dim:a,onInput:p}),r.a.createElement("div",{className:"dimension"},r.a.createElement("label",{htmlFor:"dimension"},"Filter Size"),r.a.createElement("input",{min:"3",max:"7",onChange:function(e){var t=Number(e.target.value);c(t%2==0?t+Math.sign(t-a):t)},value:a,type:"number",id:"dimension"})))};l.a.render(r.a.createElement(v,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.257e25ee.chunk.js.map